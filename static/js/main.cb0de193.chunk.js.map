{"version":3,"sources":["NewsItem/NewsItem.js","NoNews/NoNews.js","NewsMain/NewsMain.js","NewSrc/NewSrcItem.js","NewsSrcs/NewSrcs.js","Header/Header.js","index.js"],"names":["NewsItem","props","react_default","a","createElement","className","src","data","urlToImage","alt","title","author","href","url","description","NoNews","NewsMain","id","console","log","amount","slice","map","element","src_NewsItem_NewsItem","key","publishedAt","src_NoNews_NoNews","NewSrcItem","concat","name","NewsSrcs","onClick","handler","elem","NewSrc_NewSrcItem","uplNews","Header","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","request","_this2","findHandler","type","placeholder","onChange","e","setState","target","value","React","Component","App","srcClickHander","indexOf","newUrlPart","length","partOfUrl","getNews","uploadNewsHandler","newAmount","btnNews","document","getElementById","hidden","style","display","newArticles","dataForDisplay","part","axios","get","then","response","articles","srcs","lastPartOfUrl","sources","window","addEventListener","scrollY","src_Header_Header","NewsSrcs_NewSrcs","src_NewsMain_NewsMain","ReactDOM","render","react_router_dom","basename","src_App"],"mappings":"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","file":"static/js/main.cb0de193.chunk.js","sourcesContent":["import React from 'react';\r\nimport \"./NewsItem.css\";\r\n\r\nconst NewsItem = props => {\r\n    \r\n    return(\r\n        <div className = \"news_item\">\r\n            <div className=\"img_wrapper\">\r\n                <img src = {props.data.urlToImage} alt={props.data.title}/>\r\n            </div>\r\n            <div className = \"news_description\">\r\n                <h4>\r\n                    {props.data.title}\r\n                </h4>\r\n                <h5>\r\n                    {props.data.author}\r\n                </h5>\r\n                <div className = \"delimeter\">\r\n                </div>\r\n                <a href = {props.data.url}>\r\n                    <p>\r\n                        {props.data.description}\r\n                    </p>\r\n                </a>    \r\n            </div>\r\n        </div>\r\n    );\r\n \r\n}\r\n\r\nexport default NewsItem;","import React from 'react';\r\nimport \"./NoNews.css\"\r\nconst NoNews = props => {\r\n    \r\n    return(\r\n        <div className=\"no_news\">\r\n            There are no news found.\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NoNews;","import React from 'react';\r\nimport NewsItem from '../NewsItem/NewsItem';\r\nimport \"./NewMain.css\";\r\nimport NoNews from '../NoNews/NoNews';\r\n\r\n\r\nconst NewsMain = props => {\r\n\r\n    return(\r\n        \r\n        <div id=\"news_main\" className = \"main\">\r\n            {\r\n                console.log(props.amount)\r\n            }\r\n            {   \r\n                props.amount !== 0 ? props.data.slice(0, props.amount).map( element =>{return <NewsItem data = {element} key = {element.publishedAt}/> }) : <NoNews/>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NewsMain;","import React from 'react';\r\nimport \"./NewSrc.css\";\r\n\r\nconst NewSrcItem = props => {\r\n   \r\n    return(\r\n        <li className = {`src sources=${props.src}&`} >\r\n            <div >\r\n                {props.name}\r\n            </div>\r\n        </li>\r\n    );\r\n\r\n}\r\n\r\nexport default NewSrcItem;","import React from 'react';\r\nimport \"./NewSrcs.css\";\r\nimport NewsSrc from \"../NewSrc/NewSrcItem\";\r\n\r\nconst NewsSrcs = props => {\r\n\r\n        return(\r\n                <nav>\r\n                    <ul id=\"news_srcs\" className=\"srcs\" onClick = {props.handler}>\r\n                          {  props.data.map( elem =>{\r\n                            return <NewsSrc key = {elem.id} src = {elem.id} name = {elem.name} />;\r\n                        })}   \r\n                    </ul>\r\n                    <button id=\"btn_upload_news\" className=\"btn_news\" onClick = {props.uplNews}>\r\n                        Upload\r\n                    </button>\r\n                </nav>\r\n        ) ;       \r\n                \r\n}\r\n\r\nexport default NewsSrcs;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"./Header.css\";\r\nclass Header extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            request: \"\"\r\n        };\r\n    }\r\n\r\n    render(){\r\n        let handler = this.props.findHandler;\r\n        return(\r\n            <header>\r\n                <div className=\"header_item\">\r\n                    <h1> News by Filimon</h1>\r\n                </div>\r\n                <div className = \"spacer\">\r\n\r\n                </div>\r\n                <div className=\"header_item\">\r\n                        <input type=\"text\" name=\"request\" id=\"request\" className=\"demoInputBox\" placeholder=\"Your request\" \r\n                        onChange = {e => this.setState({request: e.target.value})}/>\r\n                        <button id=\"btn_search\" type=\"button\"  className=\"btn_search\" onClick={(e) => handler(this.state.request)}> Search </button>\r\n                </div>\r\n            </header>        \r\n        );\r\n    }    \r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\nimport { BrowserRouter} from 'react-router-dom';\r\n\r\nimport NewsMain from \"./NewsMain/NewsMain\";\r\nimport NewsSrcs from './NewsSrcs/NewSrcs';\r\nimport Header from './Header/Header';\r\nimport \"./index.css\";\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            srcs: [],\r\n            partOfUrl: \"\",\r\n            lastPartOfUrl: \"\",\r\n            amount: 0,\r\n            data: [],\r\n            dataForDisplay: [],\r\n            hidden: false\r\n        };\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        axios.get('https://newsapi.org/v2/sources?language=en&apiKey=8d19f90851f74f38b619e1bbd64c281e')\r\n        .then(response => this.setState({srcs: response.data.sources}))\r\n\r\n        let btnNews = document.getElementById(\"btn_upload_news\");\r\n        \r\n        window.addEventListener(\"scroll\", function(){\r\n            if (window.scrollY >= 190)\r\n                btnNews.className += \" btn_fixed\";\r\n            else\r\n                btnNews.className = \"btn_news\";\r\n        });\r\n    }\r\n\r\n   shouldComponentUpdate(){\r\n        console.log(\"-----UPD----\");\r\n        console.log(this.state);\r\n        return true;\r\n   }\r\n\r\n    srcClickHander = (e) =>{\r\n        if (e.target.className.indexOf(\"src\") !== -1){\r\n            let newUrlPart = e.target.className.slice(4, e.target.className.length);\r\n            if ((this.state.partOfUrl === \"\") || (newUrlPart !== this.state.partOfUrl)){\r\n                this.setState({partOfUrl: e.target.className.slice(4, e.target.className.length)}); \r\n                this.getNews(newUrlPart);\r\n            }else{\r\n                console.log(\"nea\");\r\n            }\r\n        }\r\n    }\r\n\r\n    uploadNewsHandler = () =>{\r\n        let newAmount = this.state.amount + 5;\r\n        \r\n        let btnNews = document.getElementById('btn_upload_news'); \r\n        if (this.state.data.length <= newAmount){\r\n            newAmount = this.state.data.length;    \r\n            this.setState({hidden:  true});\r\n            btnNews.style.display = \"none\";           \r\n        }else{\r\n            if(this.state.hidden){\r\n                this.setState({hidden: false});    \r\n                btnNews.style.display = \"block\";\r\n            }\r\n        }    \r\n\r\n        console.log(newAmount);\r\n        let newArticles = this.state.dataForDisplay.slice(0, newAmount);\r\n        this.setState({amount: newAmount});\r\n        this.setState({dataForDisplay: newArticles});\r\n        console.log(\"-----\");\r\n        console.log(this.state.amount);\r\n    }\r\n\r\n    getNews = (part) => {\r\n        let url = `https://newsapi.org/v2/everything?${part}language=en&apiKey=8d19f90851f74f38b619e1bbd64c281e`;\r\n        console.log(url);\r\n        axios.get(url)\r\n        .then((response) => {\r\n            let newAmount = 5;\r\n            let btnNews = document.getElementById('btn_upload_news'); \r\n            if (response.data.articles.length <= 5){\r\n                newAmount = response.data.articles.length;    \r\n                this.setState({hidden:  true});\r\n                btnNews.style.display = \"none\";           \r\n            }else{\r\n                if(this.state.hidden){\r\n                    this.setState({hidden: false});    \r\n                    btnNews.style.display = \"block\";\r\n                }\r\n            }    \r\n            this.setState({amount: newAmount})\r\n            let articles = response.data.articles.slice(0, 5);\r\n            console.log(articles);\r\n            this.setState({data: response.data.articles});\r\n            this.setState({dataForDisplay: articles});\r\n        })\r\n    }\r\n\r\n    findHandler = (request) => {\r\n        console.log(\"------------\");\r\n        console.log(request);\r\n        if(request != null){\r\n            let src = `q=${request}&from=2019-05-20&sortBy=popularity&`;\r\n            this.setState({partOfUrl: src});\r\n            this.getNews(src);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <Header findHandler = {this.findHandler}/>\r\n                <NewsSrcs data = {this.state.srcs} handler = {this.srcClickHander} uplNews = {this.uploadNewsHandler}/>\r\n                <NewsMain amount = {this.state.amount}  data = {this.state.amount !== 0 ? this.state.data : []}/>\r\n                <footer>\r\n                    \r\n                </footer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nReactDOM.render(<BrowserRouter basename = {\"/news-app/\"}> <App /> </BrowserRouter>, document.getElementById(\"root\"));\r\n\r\n\r\n"],"sourceRoot":""}